{"ast":null,"code":"import{useState}from\"react\";import createAxiosInstance from\"../config/api\";export function EmployeeRegiApi(){const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[responseMessage,setResponseMessage]=useState(\"\");const addEmployee=async employeeData=>{setLoading(true);setError(\"\");setResponseMessage(\"\");// 상태 초기화\nif(employeeData.rank===\"\"&&employeeData.employeeType===\"\"){alert(\"입력되지 않은 값이 있습니다. 다시 한번 확인해 주세요.\");// 직급이 선택되지 않으면 경고 메시지 표시\nreturn;}try{const axiosInstance=createAxiosInstance();// 인스턴스 생성\nconst response=await axiosInstance.post(\"/employees\",employeeData);// 응답 데이터 설정\nsetResponseMessage(response.data);}catch(err){if(err.response){setError('등록 실패 : ${err.response.data.message || \"서버 오류\"}');}else if(err.request){setError(\"등록 실패: 서버로부터 응답이 없습니다.\"+err.request);}else{setError(\"등록 실패 : ${err.message}\");}}finally{setLoading(false);}};return{addEmployee,loading,error,responseMessage};}","map":{"version":3,"names":["useState","createAxiosInstance","EmployeeRegiApi","loading","setLoading","error","setError","responseMessage","setResponseMessage","addEmployee","employeeData","rank","employeeType","alert","axiosInstance","response","post","data","err","request"],"sources":["C:/Users/user/Desktop/react/src/utils/EmployeeRegiApi.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport createAxiosInstance from \"../config/api\";\r\n\r\nexport function EmployeeRegiApi() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [responseMessage, setResponseMessage] = useState(\"\");\r\n\r\n  const addEmployee = async (employeeData) => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setResponseMessage(\"\"); // 상태 초기화\r\n    if (employeeData.rank === \"\" && employeeData.employeeType === \"\") {\r\n      alert(\"입력되지 않은 값이 있습니다. 다시 한번 확인해 주세요.\"); // 직급이 선택되지 않으면 경고 메시지 표시\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const axiosInstance = createAxiosInstance(); // 인스턴스 생성\r\n\r\n      const response = await axiosInstance.post(\"/employees\", employeeData);\r\n      // 응답 데이터 설정\r\n      setResponseMessage(response.data);\r\n    } catch (err) {\r\n      if (err.response) {\r\n        setError('등록 실패 : ${err.response.data.message || \"서버 오류\"}');\r\n      } else if (err.request) {\r\n        setError(\"등록 실패: 서버로부터 응답이 없습니다.\" + err.request);\r\n      } else {\r\n        setError(\"등록 실패 : ${err.message}\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { addEmployee, loading, error, responseMessage };\r\n}\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,mBAAmB,KAAM,eAAe,CAE/C,MAAO,SAAS,CAAAC,eAAeA,CAAA,CAAG,CAChC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGJ,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACK,KAAK,CAAEC,QAAQ,CAAC,CAAGN,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACO,eAAe,CAAEC,kBAAkB,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAE1D,KAAM,CAAAS,WAAW,CAAG,KAAO,CAAAC,YAAY,EAAK,CAC1CN,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZE,kBAAkB,CAAC,EAAE,CAAC,CAAE;AACxB,GAAIE,YAAY,CAACC,IAAI,GAAK,EAAE,EAAID,YAAY,CAACE,YAAY,GAAK,EAAE,CAAE,CAChEC,KAAK,CAAC,iCAAiC,CAAC,CAAE;AAC1C,OACF,CAEA,GAAI,CACF,KAAM,CAAAC,aAAa,CAAGb,mBAAmB,CAAC,CAAC,CAAE;AAE7C,KAAM,CAAAc,QAAQ,CAAG,KAAM,CAAAD,aAAa,CAACE,IAAI,CAAC,YAAY,CAAEN,YAAY,CAAC,CACrE;AACAF,kBAAkB,CAACO,QAAQ,CAACE,IAAI,CAAC,CACnC,CAAE,MAAOC,GAAG,CAAE,CACZ,GAAIA,GAAG,CAACH,QAAQ,CAAE,CAChBT,QAAQ,CAAC,iDAAiD,CAAC,CAC7D,CAAC,IAAM,IAAIY,GAAG,CAACC,OAAO,CAAE,CACtBb,QAAQ,CAAC,wBAAwB,CAAGY,GAAG,CAACC,OAAO,CAAC,CAClD,CAAC,IAAM,CACLb,QAAQ,CAAC,wBAAwB,CAAC,CACpC,CACF,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,MAAO,CAAEK,WAAW,CAAEN,OAAO,CAAEE,KAAK,CAAEE,eAAgB,CAAC,CACzD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}