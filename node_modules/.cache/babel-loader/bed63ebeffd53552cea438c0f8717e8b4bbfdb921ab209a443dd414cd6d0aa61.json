{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{getStateText,getEmployeeTypeText,formatAmount}from\"../utils/textUtils\";import\"../config/index.css\";import{useFetchAccual}from\"../utils/useFetchAccual\";// 유저 정보 요청 훅\nimport{useFetchYearData}from\"../utils/useFetchYearData\";// 연도별 데이터 요청 훅\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const navigate=useNavigate();const[selectedYear,setSelectedYear]=useState(new Date().getFullYear());const{userData,userError,userLoading}=useFetchAccual();// 유저 정보 호출\nconst{error,loading,totalAccumulatedAmount,fetchDataByYear}=useFetchYearData(selectedYear);// 연도별 데이터 호출\nconst handleEmployeeClick=employeeId=>{navigate(\"/dashboard/\".concat(employeeId));// 상세 페이지로 이동\n};const handleChangeYear=event=>{setSelectedYear(event.target.value);// 연도 변경 시 상태 업데이트\n};const handleSearchClick=()=>{fetchDataByYear(selectedYear);// 연도에 맞는 데이터 요청\n};// 유저 정보와 연도별 데이터가 로딩되거나 에러가 발생한 경우 처리\nif(userLoading){// || loading\nreturn/*#__PURE__*/_jsx(\"loading\",{className:\"loading\",children:\"Loading...\"});}if(userError||loading){return/*#__PURE__*/_jsx(\"error\",{className:\"error\",children:userError||error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"WEAVUS \\uD1F4\\uC9C1\\uAE08 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:\"\\uC5F0\\uB3C4\\uBCC4 \\uC801\\uB9BD \\uCD1D\\uC561\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"year\",className:\"label\",children:\"\\uC5F0\\uB3C4 \\uC120\\uD0DD:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"year\",type:\"number\",value:selectedYear,onChange:handleChangeYear,min:\"2000\",max:\"2100\",className:\"input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",onClick:handleSearchClick,children:\"\\uAC80\\uC0C9\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"total-amount\",children:[selectedYear,\" \\uB144\\uC758 \\uC801\\uB9BD \\uCD1D\\uC561: \",formatAmount(totalAccumulatedAmount)]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-header\",children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header\",children:\"\\uACC4\\uC57D \\uC0C1\\uD0DC\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header\",children:\"\\uC785\\uC0AC\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header\",children:\"\\uD1F4\\uC0AC\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header\",children:\"\\uC801\\uB9BD \\uAE08\\uC561\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header\",children:\"\\uC9C0\\uAE09 \\uC0C1\\uD0DC\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:userData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-data\",children:/*#__PURE__*/_jsx(\"button\",{className:\"action-button\",onClick:()=>handleEmployeeClick(item.employee.id),children:item.employee.name})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-data\",children:getEmployeeTypeText(item.employee.employeeType,item.employee.status)}),/*#__PURE__*/_jsx(\"td\",{className:\"table-data\",children:item.employee.entryDate}),/*#__PURE__*/_jsx(\"td\",{className:\"table-data\",children:item.endDate?item.endDate:\"재직중\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table-data\",children:formatAmount(item.totalAmount?item.totalAmount:\"0\")}),/*#__PURE__*/_jsx(\"td\",{className:\"table-data\",children:getStateText(item.state)})]},item.id))})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useNavigate","getStateText","getEmployeeTypeText","formatAmount","useFetchAccual","useFetchYearData","jsx","_jsx","jsxs","_jsxs","Dashboard","navigate","selectedYear","setSelectedYear","Date","getFullYear","userData","userError","userLoading","error","loading","totalAccumulatedAmount","fetchDataByYear","handleEmployeeClick","employeeId","concat","handleChangeYear","event","target","value","handleSearchClick","className","children","htmlFor","id","type","onChange","min","max","onClick","map","item","employee","name","employeeType","status","entryDate","endDate","totalAmount","state"],"sources":["C:/Users/user/Desktop/weavuscalfront/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  getStateText,\r\n  getEmployeeTypeText,\r\n  formatAmount,\r\n} from \"../utils/textUtils\";\r\nimport \"../config/index.css\";\r\n\r\nimport { useFetchAccual } from \"../utils/useFetchAccual\"; // 유저 정보 요청 훅\r\nimport { useFetchYearData } from \"../utils/useFetchYearData\"; // 연도별 데이터 요청 훅\r\n\r\nfunction Dashboard() {\r\n  const navigate = useNavigate();\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n  const { userData, userError, userLoading } = useFetchAccual(); // 유저 정보 호출\r\n  const { error, loading, totalAccumulatedAmount, fetchDataByYear } =\r\n    useFetchYearData(selectedYear); // 연도별 데이터 호출\r\n\r\n  const handleEmployeeClick = (employeeId) => {\r\n    navigate(`/dashboard/${employeeId}`); // 상세 페이지로 이동\r\n  };\r\n\r\n  const handleChangeYear = (event) => {\r\n    setSelectedYear(event.target.value); // 연도 변경 시 상태 업데이트\r\n  };\r\n\r\n  const handleSearchClick = () => {\r\n    fetchDataByYear(selectedYear); // 연도에 맞는 데이터 요청\r\n  };\r\n\r\n  // 유저 정보와 연도별 데이터가 로딩되거나 에러가 발생한 경우 처리\r\n  if (userLoading) {\r\n    // || loading\r\n    return <loading className=\"loading\">Loading...</loading>;\r\n  }\r\n\r\n  if (userError || loading) {\r\n    return <error className=\"error\">{userError || error}</error>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"title\">WEAVUS 퇴직금 목록</h1>\r\n      <h3 className=\"title\">연도별 적립 총액</h3>\r\n      <div className=\"search-container\">\r\n        <label htmlFor=\"year\" className=\"label\">\r\n          연도 선택:\r\n        </label>\r\n        <input\r\n          id=\"year\"\r\n          type=\"number\"\r\n          value={selectedYear}\r\n          onChange={handleChangeYear}\r\n          min=\"2000\"\r\n          max=\"2100\"\r\n          className=\"input\"\r\n        />\r\n        <button className=\"submit-button\" onClick={handleSearchClick}>\r\n          검색\r\n        </button>\r\n      </div>\r\n      <p className=\"total-amount\">\r\n        {selectedYear} 년의 적립 총액: {formatAmount(totalAccumulatedAmount)}\r\n      </p>\r\n\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"table-header\">이름</th>\r\n            <th className=\"table-header\">계약 상태</th>\r\n            <th className=\"table-header\">입사일</th>\r\n            <th className=\"table-header\">퇴사일</th>\r\n            <th className=\"table-header\">적립 금액</th>\r\n            <th className=\"table-header\">지급 상태</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {userData.map((item) => (\r\n            <tr key={item.id}>\r\n              <td className=\"table-data\">\r\n                <button\r\n                  className=\"action-button\"\r\n                  onClick={() => handleEmployeeClick(item.employee.id)}\r\n                >\r\n                  {item.employee.name}\r\n                </button>\r\n              </td>\r\n              <td className=\"table-data\">\r\n                {getEmployeeTypeText(\r\n                  item.employee.employeeType,\r\n                  item.employee.status\r\n                )}\r\n              </td>\r\n              <td className=\"table-data\">{item.employee.entryDate}</td>\r\n              <td className=\"table-data\">\r\n                {item.endDate ? item.endDate : \"재직중\"}\r\n              </td>\r\n              <td className=\"table-data\">\r\n                {formatAmount(item.totalAmount ? item.totalAmount : \"0\")}\r\n              </td>\r\n              <td className=\"table-data\">{getStateText(item.state)}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}