{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from\"react\";// 로그인 상태와 관련된 데이터를 관리할 Context 생성\nimport{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext(undefined);export const useAuth=()=>useContext(AuthContext);export const AuthProvider=_ref=>{let{children}=_ref;const[isLoggedIn,setIsLoggedIn]=useState(false);const[token,setToken]=useState(null);// token 상태 추가\nconst[loading,setLoading]=useState(true);useEffect(()=>{const savedToken=localStorage.getItem(\"token\");if(savedToken){setIsLoggedIn(true);setToken(savedToken);}setLoading(false);},[]);const login=newToken=>{setIsLoggedIn(true);setToken(newToken);localStorage.setItem(\"token\",newToken);// 토큰 저장\n};const logout=()=>{setIsLoggedIn(false);setToken(null);localStorage.removeItem(\"token\");// 토큰 삭제\n};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// 초기화 중 로딩 상태 표시\n}return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn,token,login,logout},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","AuthContext","undefined","useAuth","AuthProvider","_ref","children","isLoggedIn","setIsLoggedIn","token","setToken","loading","setLoading","savedToken","localStorage","getItem","login","newToken","setItem","logout","removeItem","Provider","value"],"sources":["C:/Users/user/Desktop/react/src/config/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\n// 로그인 상태와 관련된 데이터를 관리할 Context 생성\r\nconst AuthContext = createContext(undefined);\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [token, setToken] = useState(null); // token 상태 추가\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const savedToken = localStorage.getItem(\"token\");\r\n    if (savedToken) {\r\n      setIsLoggedIn(true);\r\n      setToken(savedToken);\r\n    } setLoading(false);\r\n  }, []);\r\n\r\n  const login = (newToken) => {\r\n    setIsLoggedIn(true);\r\n    setToken(newToken);\r\n    localStorage.setItem(\"token\", newToken); // 토큰 저장\r\n  };\r\n\r\n  const logout = () => {\r\n    setIsLoggedIn(false);\r\n    setToken(null);\r\n    localStorage.removeItem(\"token\"); // 토큰 삭제\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>; // 초기화 중 로딩 상태 표시\r\n  }\r\n\r\n  return (\r\n      <AuthContext.Provider value={{ isLoggedIn, token, login, logout }}>\r\n        {children}\r\n      </AuthContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE7E;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,KAAM,CAAAC,WAAW,cAAGN,aAAa,CAACO,SAAS,CAAC,CAE5C,MAAO,MAAM,CAAAC,OAAO,CAAGA,CAAA,GAAMP,UAAU,CAACK,WAAW,CAAC,CAEpD,MAAO,MAAM,CAAAG,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAAE;AAC1C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAChD,GAAIF,UAAU,CAAE,CACdL,aAAa,CAAC,IAAI,CAAC,CACnBE,QAAQ,CAACG,UAAU,CAAC,CACtB,CAAED,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,KAAK,CAAIC,QAAQ,EAAK,CAC1BT,aAAa,CAAC,IAAI,CAAC,CACnBE,QAAQ,CAACO,QAAQ,CAAC,CAClBH,YAAY,CAACI,OAAO,CAAC,OAAO,CAAED,QAAQ,CAAC,CAAE;AAC3C,CAAC,CAED,KAAM,CAAAE,MAAM,CAAGA,CAAA,GAAM,CACnBX,aAAa,CAAC,KAAK,CAAC,CACpBE,QAAQ,CAAC,IAAI,CAAC,CACdI,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAAE;AACpC,CAAC,CAED,GAAIT,OAAO,CAAE,CACX,mBAAOX,IAAA,QAAAM,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAChC,CAEA,mBACIN,IAAA,CAACC,WAAW,CAACoB,QAAQ,EAACC,KAAK,CAAE,CAAEf,UAAU,CAAEE,KAAK,CAAEO,KAAK,CAAEG,MAAO,CAAE,CAAAb,QAAA,CAC/DA,QAAQ,CACW,CAAC,CAE7B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}